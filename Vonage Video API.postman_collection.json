{
	"info": {
		"_postman_id": "00a67a56-8e56-4f2a-91fd-daf6add8ec96",
		"name": "Vonage Video API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "12740096"
	},
	"item": [
		{
			"name": "Session, signaling, and moderation",
			"item": [
				{
					"name": "Create a session",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"archiveMode\" : \"manual\",\n    \"location\" : \"140.228.54.78\",\n    \"p2p.preference\" : \"disabled\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/session/create",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"session",
								"create"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Send a signal to all connections",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\" : \"boo\",\n    \"data\" : \"foo\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/session/{{sessionId}}/signal",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"session",
								"{{sessionId}}",
								"signal"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Send a signal to a connection",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\" : \"boo\",\n    \"data\" : \"foo\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/session/{{sessionId}}/connection/{{connectionId}}/signal",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"session",
								"{{sessionId}}",
								"connection",
								"{{connectionId}}",
								"signal"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Retrieve stream information",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/session/{{sessionId}}/stream/op:{{streamId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"session",
								"{{sessionId}}",
								"stream",
								"op:{{streamId}}"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Mute a stream",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/session/{{sessionId}}/stream/{{streamId}}/mute",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"session",
								"{{sessionId}}",
								"stream",
								"{{streamId}}",
								"mute"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Mute all streams",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"active\": true,\n  \"excludedStreamIds\": [\n    \"078c4c75-5d34-4f89-b099-5a5fe4a1c589\"\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/session/{{sessionId}}/mute",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"session",
								"{{sessionId}}",
								"mute"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Force a client disconnected",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/session/{{sessionId}}/connection/{{connectionId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"session",
								"{{sessionId}}",
								"connection",
								"{{connectionId}}"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				}
			]
		},
		{
			"name": "Archiving",
			"item": [
				{
					"name": "Start an archive",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"sessionId\" : \"{{sessionId}}\",\r\n    \"hasAudio\" : true,\r\n    \"hasVideo\" : true,\r\n    \"layout\" : {\r\n      \"type\": \"bestFit\",\r\n      \"screenshareType\": \"pip\"\r\n    },\r\n    \"multiArchiveTag\" : \"\",\r\n    \"name\" : \"archive_name\",\r\n    \"outputMode\" : \"composed\",\r\n    \"resolution\" : \"640x480\",\r\n    \"streamMode\" : \"auto\"\r\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/archive",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"archive"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Stop an archive",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/archive/{{archiveId}}/stop",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"archive",
								"{{archiveId}}",
								"stop"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "List archives",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/archive",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"archive"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Retrieve archive information",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/archive/{{archiveId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"archive",
								"{{archiveId}}"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Delete an archive",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/archive/{{archiveId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"archive",
								"{{archiveId}}"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Specify an S3 or Azure upload target",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": \"s3\",\n    \"config\": {\n        \"accessKey\":\"myUsername\",\n        \"secretKey\":\"myPassword\",\n        \"bucket\": \"bucketName\",\n        \"endpoint\": \"http://s3.cloudianhyperstore.com\"\n    },\n    \"fallback\":\"none\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/archive/storage",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"archive",
								"storage"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Delete an upload target",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/archive/storage",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"archive",
								"storage"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Change the composed archive layout type",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"type\": \"bestFit\",\n  \"screenshareType\": \"pip\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/archive/{{archiveId}}/layout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"archive",
								"{{archiveId}}",
								"layout"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Change the composed archive layout classes",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"items\": [\n    {\n      \"id\": \"8b732909-0a06-46a2-8ea8-074e64d43422\",\n      \"layoutClassList\": [\"full\"]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/session/{{sessionId}}/stream",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"session",
								"{{sessionId}}",
								"stream"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Select streams to be included in an archive",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"addStream\": \"6f31df1e-0148-464a-9d9c-a25160e178a7\",\n  \"hasAudio\": true,\n  \"hasVideo\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/archive/{{archiveId}}/streams",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"archive",
								"{{archiveId}}",
								"streams"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				}
			]
		},
		{
			"name": "SIP interconnect",
			"item": [
				{
					"name": "Initiate a SIP call",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"sessionId\": \"{{sessionId}}\",\r\n  \"token\": \"{{token}}\",\r\n  \"sip\": {\r\n    \"from\": \"447418361652@nexmo.com\",\r\n    \"uri\": \"sip:447405192752@sip.nexmo.com\",\r\n    \"headers\": {\r\n      \"headerKey\": \"headerValue\"\r\n    },\r\n    \"auth\": {\r\n      \"username\": \"adf31819\",\r\n      \"password\": \"VmIGA60oprZQiirL\"\r\n    },\r\n    \"secure\": false,\r\n    \"video\": false,\r\n    \"observeForceMute\": false\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/dial",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"dial"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Send DTMF digits to SIP clients",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"digits\": \"1713\"\r\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/session{{sessionId}}/play-dtmf",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"session{{sessionId}}",
								"play-dtmf"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				}
			]
		},
		{
			"name": "Live streaming broadcasts",
			"item": [
				{
					"name": "Start a live streaming broadcast",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"sessionId\": \"{{sessionId}}\",\r\n  \"layout\": {\r\n    \"type\": \"bestFit\"\r\n  },\r\n  \"multiBroadcastTag\": \"\",\r\n  \"maxDuration\": 5400,\r\n  \"outputs\": {\r\n    \"hls\": {\r\n        \"dvr\": true,\r\n        \"lowLatency\": false\r\n    },\r\n    \"rtmp\": {\r\n      \"id\": \"YT\",\r\n      \"serverUrl\": \"rtmp://a.rtmp.youtube.com/live2\",\r\n      \"streamName\": \"dw3f-umfy-2dvq-0304-2am7\"\r\n    }\r\n  },\r\n  \"resolution\": \"640x480\",\r\n  \"streamMode\" : \"auto\"\r\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/broadcast",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"broadcast"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Stop a live streaming broadcast",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/broadcast/{{broadcastId}}/stop",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"broadcast",
								"{{broadcastId}}",
								"stop"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "List live streaming broadcasts",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/broadcast?sessionId={{sessionId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"broadcast"
							],
							"query": [
								{
									"key": "sessionId",
									"value": "{{sessionId}}"
								}
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Retrieve live streaming broadcast information",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/broadcast/{{broadcastId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"broadcast",
								"{{broadcastId}}"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Change the live streaming layout type",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"type\": \"bestFit\",\n  \"screenshareType\": \"pip\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/broadcast/{{broadcastId}}/layout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"broadcast",
								"{{broadcastId}}",
								"layout"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Change the live streaming layout classes",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"items\": [\n    {\n      \"id\": \"8b732909-0a06-46a2-8ea8-074e64d43422\",\n      \"layoutClassList\": [\"full\"]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/session/{{sessionId}}/stream",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"session",
								"{{sessionId}}",
								"stream"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Select streams to be included in a live streaming broadcast",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"addStream\": \"{{streamId}}\",\n  \"hasAudio\": true,\n  \"hasVideo\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/broadcast/{{broadcastId}}/streams",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"broadcast",
								"{{broadcastId}}",
								"streams"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				}
			]
		},
		{
			"name": "Captions API (Beta)",
			"item": [
				{
					"name": "Start audio captions",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"sessionId\": \"{{sessionId}}\",\n  \"token\": \"{{token}}\",\n  \"languageCode\": \"en-US\",\n  \"maxDuration\": 1800,\n  \"partialCaptions\": true,\n  \"statusCallbackUrl\": \"{{callbackUrl}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/captions",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"captions"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Stop audio captions",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/captions/{{captionsId}}/stop",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"captions",
								"{{captionsId}}",
								"stop"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				}
			]
		},
		{
			"name": "Experience Composer",
			"item": [
				{
					"name": "Start an experience composer",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"sessionId\": \"{{sessionId}}\",\r\n  \"token\": \"{{token}}\",\r\n  \"url\": \"https://webapp.customer.com\",\r\n  \"maxDuration\": 1800,\r\n  \"resolution\": \"1280x720\",\r\n  \"properties\": {\r\n    \"name\": \"Composed stream for Live event #1\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/render",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"render"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Retrieve experience composer information",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/render/{{experienceComposerId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"render",
								"{{experienceComposerId}}"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "List experience composers",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/render/?offset=400&count=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"render",
								""
							],
							"query": [
								{
									"key": "offset",
									"value": "400"
								},
								{
									"key": "count",
									"value": "20"
								}
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Stop an experience composer",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/render/{{experienceComposerId}}/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"render",
								"{{experienceComposerId}}",
								""
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				}
			]
		},
		{
			"name": "Audio Connector",
			"item": [
				{
					"name": "Start an Audio Connector WebSocket connection",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"sessionId\": \"{{sessionId}}\",\n  \"token\": \"{{token}}\",\n  \"websocket\": {\n    \"uri\": \"wss://service.com/ws-endpoint\",\n    \"streams\": [\n      \"streamId-1\",\n      \"streamId-2\"\n    ],\n    \"headers\": {\n      \"headerKey\": \"headerValue\"\n    },\n    \"audioRate\" : 8000\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/connect",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"connect"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				}
			]
		},
		{
			"name": "Insights API",
			"item": [
				{
					"name": "Project data",
					"item": [
						{
							"name": "Get streamed published minutes and streamed subscribed minutes for clients using the OpenTok JavaScript, Android, and iOS SDKs",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-OPENTOK-AUTH",
										"value": "{{jwt}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "query ($PROJECT: IntOrString!, $START_TIME: Date!) {\n    project(projectId: $PROJECT) {\n      projectData(\n      start: $START_TIME,\n      interval: MONTHLY,\n      sdkType: [JS, ANDROID, IOS],\n      groupBy: SDK_TYPE\n    ) {\n      resources {\n        intervalStart,\n        intervalEnd,\n        usage {\n          streamedPublishedMinutes,\n          streamedSubscribedMinutes\n        }\n      }\n    }\n  }\n}",
										"variables": "{\n    \"PROJECT\": \"{{projectApiKey}}\",\n    \"START_TIME\": \"2023-01-01T08:00:00.000Z\"\n}"
									}
								},
								"url": {
									"raw": "{{insightsBaseUrl}}",
									"host": [
										"{{insightsBaseUrl}}"
									]
								},
								"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
							},
							"response": []
						},
						{
							"name": "Get pagination info along with the first 10 matching ProjectData resources",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-OPENTOK-AUTH",
										"value": "{{jwt}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "query ($PROJECT: IntOrString!, $START_TIME: Date!) {\n    project(projectId: $PROJECT) {\n      projectData(\n      start: $START_TIME,\n      first: 10,\n      interval: MONTHLY,\n\n    ) {\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      resources {\n        usage {\n          streamedPublishedMinutes\n        }\n      }\n    }\n  }\n}",
										"variables": "{\n    \"PROJECT\": \"{{projectApiKey}}\",\n    \"START_TIME\": \"2023-01-01T08:00:00.000Z\"\n}"
									}
								},
								"url": {
									"raw": "{{insightsBaseUrl}}",
									"host": [
										"{{insightsBaseUrl}}"
									]
								},
								"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
							},
							"response": []
						},
						{
							"name": "Get the next page",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-OPENTOK-AUTH",
										"value": "{{jwt}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "query ($PROJECT: IntOrString!) {\n    project(projectId: $PROJECT) {\n      projectData(\n      start: 0,\n      first: 10,\n      interval: MONTHLY,\n      endCursor: \"aW5zaWdodHMtcmVzb3VyY2U6MTA=\"\n\n    ) {\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      resources {\n        usage {\n          streamedPublishedMinutes,\n          streamedSubscribedMinutes\n        }\n      }\n    }\n  }\n}",
										"variables": "{\n    \"PROJECT\": \"{{projectApiKey}}\"\n}"
									}
								},
								"url": {
									"raw": "{{insightsBaseUrl}}",
									"host": [
										"{{insightsBaseUrl}}"
									]
								},
								"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
							},
							"response": []
						}
					]
				},
				{
					"name": "Session data (Advanced Insights)",
					"item": [
						{
							"name": "Get publisher details on two OpenTok sessions",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-OPENTOK-AUTH",
										"value": "{{jwt}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "query ($PROJECT: IntOrString!, $SESSION_1: String!, $SESSION_2: String!) {\n    project(projectId: $PROJECT) {\n      sessionData {\n            sessions(sessionIds: [\n                $SESSION_1,\n                $SESSION_2\n            ]) {\n                resources {\n                    sessionId\n                    meetings {\n                        totalCount\n                        resources {\n                            createdAt\n                            publisherMinutes\n                            destroyedAt\n                            publishers {\n                                resources {\n                                    createdAt\n                                    destroyedAt\n                                    connectionId\n                                    stream {\n                                      streamId\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n  }\n}",
										"variables": "{\n    \"PROJECT\": \"{{projectApiKey}}\",\n    \"SESSION_1\": \"{{sessionId}}\",\n    \"SESSION_2\": \"2_MX40NzAxNzcwNH5-MTY3NTY5OTg4NjcxOX5jN2l5cS9jNUNyaEFMU0JCTFI2QnltR3N-fn4\"\n}"
									}
								},
								"url": {
									"raw": "{{insightsBaseUrl}}",
									"host": [
										"{{insightsBaseUrl}}"
									]
								},
								"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
							},
							"response": []
						},
						{
							"name": "Get the periodic audio and video bitrate statistics for publishers in an OpenTok session",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-OPENTOK-AUTH",
										"value": "{{jwt}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "query ($PROJECT: IntOrString!, $SESSION: String!) {\n    project(projectId: $PROJECT) {\n      sessionData {\n      sessions(sessionIds: [\n        $SESSION,\n      ]) {\n        resources {\n          sessionId\n          meetings {\n            resources {\n              createdAt\n              publishers {\n                resources {\n                  createdAt\n                  connectionId\n                  stream {\n                    streamId\n                  }\n                  streamStatsCollection {\n                    resources {\n                      createdAt\n                      audioBitrateKbps\n                      videoBitrateKbps\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}",
										"variables": "{\n    \"PROJECT\": \"{{projectApiKey}}\",\n    \"SESSION\": \"{{sessionId}}\"\n}"
									}
								},
								"url": {
									"raw": "{{insightsBaseUrl}}",
									"host": [
										"{{insightsBaseUrl}}"
									]
								},
								"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
							},
							"response": []
						},
						{
							"name": "Get session summary information",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-OPENTOK-AUTH",
										"value": "{{jwt}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "query ($PROJECT: IntOrString!, $START_TIME: Date!) {\n    project(projectId: $PROJECT) {\n      sessionData {\n             sessionSummaries (\n                 start: $START_TIME,\n             ) {\n                 resources {\n                     sessionId\n                     meetings {\n                         resources {\n                             maxConcurrentStreams\n                             maxConcurrentStreams\n                             maxConcurrentSubscribers\n                             totalStreams\n                             totalConnections\n                         }\n                    }\n                }\n            }\n        }\n  }\n}",
										"variables": "{\n    \"PROJECT\": \"{{projectApiKey}}\",\n    \"START_TIME\": \"2023-01-01T08:00:00.000Z\"\n}"
									}
								},
								"url": {
									"raw": "{{insightsBaseUrl}}",
									"host": [
										"{{insightsBaseUrl}}"
									]
								},
								"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Account management",
			"item": [
				{
					"name": "Create a new project",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "accountLevel",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"ent_5\",\n    \"environmentId\": \"261\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Change a project setting",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "accountLevel",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"environmentId\": \"261\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Activate a project",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "accountLevel",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"ACTIVE\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Suspend a project",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "accountLevel",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"SUSPENDED\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Delete a project",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "accountLevel",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Retrieve a project information",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "accountLevel",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Retrieve all projects information",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "accountLevel",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								""
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Generate a new project API secret",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"type": "text",
								"value": "{{jwt}}"
							},
							{
								"key": "accountLevel",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/refreshSecret",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"refreshSecret"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				}
			]
		},
		{
			"name": "Callback (Beta)",
			"item": [
				{
					"name": "Get callback config",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/callback",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"callback"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Configure archive callback",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"url\": \"{{callbackUrl}}\",\n    \"event\": \"status\",\n    \"group\": \"archive\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/callback",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"callback"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Configure connection created callback",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"url\": \"{{callbackUrl}}\",\n    \"event\": \"created\",\n    \"group\": \"connection\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/callback",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"callback"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Configure connection destroyed callback",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"url\": \"{{callbackUrl}}\",\n    \"event\": \"destroyed\",\n    \"group\": \"connection\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/callback",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"callback"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Configure stream created callback",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"url\": \"{{callbackUrl}}\",\n    \"event\": \"created\",\n    \"group\": \"stream\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/callback",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"callback"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Configure stream destroyed callback",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"url\": \"{{callbackUrl}}\",\n    \"event\": \"destroyed\",\n    \"group\": \"stream\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/callback",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"callback"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Configure sip created callback",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"url\": \"{{callbackUrl}}\",\n    \"event\": \"created\",\n    \"group\": \"sip_call\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/callback",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"callback"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				},
				{
					"name": "Configure sip destroyed callback",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-OPENTOK-AUTH",
								"value": "{{jwt}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"url\": \"{{callbackUrl}}\",\n    \"event\": \"destroyed\",\n    \"group\": \"sip_call\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v2/project/{{projectApiKey}}/callback",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v2",
								"project",
								"{{projectApiKey}}",
								"callback"
							]
						},
						"description": "Create a new video object in the account. Note: this does not ingest a video file - use the Dynamic Ingest API for ingestion"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"/**",
					" * Vonage",
					" * Video API",
					" * REST API ",
					" * ",
					" * https://tokbox.com/developer/rest/",
					" * ",
					" * Postman pre-request script ",
					" * generates JWT automatically",
					" * ",
					" * Created by: Yukari Dumburs",
					" * Date: Wed 19 Jan 2022",
					" */",
					"",
					"var accountLevel = pm.request.headers.get('accountLevel');",
					"if (accountLevel == \"true\") {",
					"    // console.log(\"use account-level credential\");",
					"    generateAccountLevelToken();",
					"} else {",
					"    // console.log(\"use project-level credential\");",
					"    generateProjectLevelToken();",
					"}",
					"",
					"function generateAccountLevelToken() {",
					"    // Set JWT claims",
					"    var apiSecret = pm.environment.get('accountApiSecret');",
					"    var currentTimestamp = Math.floor(Date.now() / 1000);",
					"    var expiryTimestamp = currentTimestamp + 5;",
					"    var header = {",
					"        'typ': 'JWT',",
					"        'alg': 'HS256'",
					"    }",
					"    var payload = {",
					"        'iss': pm.environment.get('accountApiKey'),",
					"        'ist': 'account',",
					"        'iat': currentTimestamp,",
					"        'exp': expiryTimestamp,",
					"        'jti': pm.environment.get('jti')",
					"    }",
					"",
					"    function base64url(source) {",
					"        // Encode in classical base64",
					"        encodedSource = CryptoJS.enc.Base64.stringify(source);",
					"",
					"        // Remove padding equal characters",
					"        encodedSource = encodedSource.replace(/=+$/, '');",
					"",
					"        // Replace characters according to base64url specifications",
					"        encodedSource = encodedSource.replace(/\\+/g, '-');",
					"        encodedSource = encodedSource.replace(/\\//g, '_');",
					"",
					"        return encodedSource;",
					"    }",
					"",
					"    // Encode header",
					"    var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
					"    var encodedHeader = base64url(stringifiedHeader);",
					"",
					"    // Encode payload",
					"    var stringifiedData = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
					"    var encodedData = base64url(stringifiedData);",
					"",
					"    // Build token",
					"    var token = `${encodedHeader}.${encodedData}`;",
					"",
					"    // Sign token",
					"    var signature = CryptoJS.HmacSHA256(token, apiSecret);",
					"    signature = base64url(signature);",
					"    var signedToken = `${token}.${signature}`;",
					"    pm.environment.set('jwt', signedToken);",
					"    console.log('JWT: ', signedToken);",
					"};",
					"",
					"function generateProjectLevelToken() {",
					"    // Set JWT claims",
					"    var apiSecret = pm.environment.get('projectApiSecret');",
					"    var currentTimestamp = Math.floor(Date.now() / 1000);",
					"    var expiryTimestamp = currentTimestamp + 5;",
					"    var header = {",
					"        'typ': 'JWT',",
					"        'alg': 'HS256'",
					"    }",
					"    var payload = {",
					"        'iss': pm.environment.get('projectApiKey'),",
					"        'ist': 'project',",
					"        'iat': currentTimestamp,",
					"        'exp': expiryTimestamp,",
					"        'jti': pm.environment.get('jti')",
					"    }",
					"",
					"    function base64url(source) {",
					"        // Encode in classical base64",
					"        encodedSource = CryptoJS.enc.Base64.stringify(source);",
					"",
					"        // Remove padding equal characters",
					"        encodedSource = encodedSource.replace(/=+$/, '');",
					"",
					"        // Replace characters according to base64url specifications",
					"        encodedSource = encodedSource.replace(/\\+/g, '-');",
					"        encodedSource = encodedSource.replace(/\\//g, '_');",
					"",
					"        return encodedSource;",
					"    }",
					"",
					"    // Encode header",
					"    var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
					"    var encodedHeader = base64url(stringifiedHeader);",
					"",
					"    // Encode payload",
					"    var stringifiedData = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
					"    var encodedData = base64url(stringifiedData);",
					"",
					"    // Build token",
					"    var token = `${encodedHeader}.${encodedData}`;",
					"",
					"    // Sign token",
					"    var signature = CryptoJS.HmacSHA256(token, apiSecret);",
					"    signature = base64url(signature);",
					"    var signedToken = `${token}.${signature}`;",
					"    pm.environment.set('jwt', signedToken);",
					"    console.log('JWT: ', signedToken);",
					"};"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "https://api.opentok.com"
		},
		{
			"key": "insightsBaseUrl",
			"value": "https://insights.opentok.com/graphql",
			"type": "string"
		}
	]
}